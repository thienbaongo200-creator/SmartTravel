{% extends "base.html" %}
{% load static %}

{% block title %}Trang Chá»§ - Báº£n Ä‘á»“ du lá»‹ch{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="{% static 'css/style.css' %}">

<section id="banner" style="background:url('{% static "images/banner_travel.jpg" %}') center/cover no-repeat; color:white; text-align:center; padding:30px 20px;">
    <h1>Báº£n Ä‘á»“ du lá»‹ch thÃ´ng minh</h1>
</section>

<div class="main-layout">
    <aside class="sidebar-left">
        <div class="control-group">
            <button onclick="locateUser()" class="btn-locate">
                <i class="fa-solid fa-location-crosshairs"></i> Vá»‹ trÃ­ cá»§a tÃ´i
            </button>
            <div class="filter-title">KhÃ¡m phÃ¡ theo danh má»¥c</div>
            <div class="filter-buttons">
                <button onclick="filterCategory('restaurant')"><i class="fa-solid fa-utensils"></i> NhÃ  hÃ ng</button>
                <button onclick="filterCategory('hotel')"><i class="fa-solid fa-bed"></i> KhÃ¡ch sáº¡n</button>
                <button onclick="filterCategory('attraction')"><i class="fa-solid fa-masks-theater"></i> Khu vui chÆ¡i</button>
                <button onclick="filterCategory('museum')"><i class="fa-solid fa-landmark"></i> Di tÃ­ch</button>
                <button onclick="filterCategory('pharmacy')"><i class="fa-solid fa-prescription-bottle-medical"></i> Hiá»‡u thuá»‘c</button>
                <button onclick="filterCategory('atm')"><i class="fa-solid fa-credit-card"></i> ATM</button>
            </div>
        </div>
    </aside>

    <main class="map-wrapper">
        <div id="search-bar-overlay">
            <input type="text" id="searchBox" placeholder="TÃ¬m Ä‘á»‹a Ä‘iá»ƒm, khÃ¡ch sáº¡n...">
            <button onclick="searchPlace()" class="btn-search"><i class="fa-solid fa-magnifying-glass"></i></button>
        </div>

        <div id="info-panel" class="floating-info-panel">
            <span class="close-btn" onclick="document.getElementById('info-panel').style.display='none'">Ã—</span>
            
            <div id="info-content">
                </div>

            <div class="transport-selector" style="display:none;"> 
                <label>PhÆ°Æ¡ng tiá»‡n:</label> 
                <select id="transport"> 
                    <option value="DRIVING">ğŸš— Ã” tÃ´</option> 
                    <option value="WALKING">ğŸš¶ Äi bá»™</option> 
                    <option value="BICYCLING">ğŸš´ Xe Ä‘áº¡p</option> 
                </select> 
                <button id="direction-btn" class="btn-route">TÃ¬m Ä‘Æ°á»ng</button> 
            </div>

            <div id="route-summary"></div>
            <div id="route-detail"></div>
        </div>

        <div id="map"></div>
    </main>
</div>

<div id="loading" style="display:none;">
    <i class="fa-solid fa-spinner fa-spin"></i> Äang xÃ¡c Ä‘á»‹nh vá»‹ trÃ­...
</div>
{% endblock %}

{% block scripts %}
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/openrouteservice-js/dist/ors-js-client.min.js"></script>
<script src="https://unpkg.com/@mapbox/polyline"></script>
<script src="{% static 'js/map.js' %}"></script>
{% endblock %}